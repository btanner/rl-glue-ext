<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">

<!--Converted with LaTeX2HTML 2002-2-1 (1.71)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>Interface Routines Provided by the RL-Glue</TITLE>
<META NAME="description" CONTENT="Interface Routines Provided by the RL-Glue">
<META NAME="keywords" CONTENT="c-codec">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META NAME="Generator" CONTENT="LaTeX2HTML v2002-2-1">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="c-codec.css">

<LINK REL="previous" HREF="node48.html">
<LINK REL="up" HREF="node46.html">
<LINK REL="next" HREF="node50.html">
</HEAD>

<BODY >
<!--Navigation Panel-->
<A NAME="tex2html712"
  HREF="node50.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next"
 SRC="file:/sw/share/lib/latex2html/icons/next.png"></A> 
<A NAME="tex2html708"
  HREF="node46.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up"
 SRC="file:/sw/share/lib/latex2html/icons/up.png"></A> 
<A NAME="tex2html704"
  HREF="node48.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous"
 SRC="file:/sw/share/lib/latex2html/icons/prev.png"></A> 
<A NAME="tex2html710"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents"
 SRC="file:/sw/share/lib/latex2html/icons/contents.png"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html713"
  HREF="node50.html">Frequently Asked Questions</A>
<B> Up:</B> <A NAME="tex2html709"
  HREF="node46.html">Command and Function Reference</A>
<B> Previous:</B> <A NAME="tex2html705"
  HREF="node48.html">Environment Functions</A>
 &nbsp; <B>  <A NAME="tex2html711"
  HREF="node1.html">Contents</A></B> 
<BR>
<BR>
<!--End of Navigation Panel-->

<H2><A NAME="SECTION00093000000000000000">
Interface Routines Provided by the RL-Glue</A>
</H2>

<P>
The following built in RL-Glue functions are provided primarily for the use of the experiment program writers. Using these functions, the experiment program gains access to the corresponding environment and agent functions. The implementation of these routines are to be standard across all RL-Glue users. To ensure agents/environments/experiment programs can be exchanged between authors with no changes necessary, users should not change the RL-Glue interface code provided.

<BR>
<BR>
To understand the following, it is helpful to think of an episode as consisting of sequences of observations, actions, and rewards that are indexed by time-step as follows:

<P>
o0, a0,  r1, o1, a1,  r2, o2, a2, ..., rT, terminal_observation

<BR>
<BR>
where the episode lasts T time steps (T may be infinite) and terminal_observation is a special, designated observation signaling the end of the episode.
<PRE><TT>
RL_init() 
<BR>
agent_init(env_init())
</TT></PRE>
This initializes everything, passing the environment's task_specification to the agent. This should be called at the beginning of every trial.
<PRE><TT>
RL_start() <IMG
 WIDTH="22" HEIGHT="16" ALIGN="BOTTOM" BORDER="0"
 SRC="img1.png"
 ALT="$\rightarrow$"> o0, a0
<BR>
global upcoming_action
<BR>
o = env_start()
<BR>
a = agent_start(o)
<BR>
upcoming_action = a
<BR>
return o,a
</TT></PRE>

<P>
Do the first step of a run or episode.  The action is saved in upcoming_action so that it can be used on the next step.
<PRE><TT>
RL_step() <IMG
 WIDTH="22" HEIGHT="16" ALIGN="BOTTOM" BORDER="0"
 SRC="img1.png"
 ALT="$\rightarrow$"> rt, ot, terminal, at
<BR>
global upcoming_action
<BR>
r,o,terminal = env_step(upcoming_action)
<BR>
if terminal == true
<BR>
agent_end(r)
<BR>
return r, o,terminal
<BR>
else
<BR>
a = agent_step(r, o)
<BR>
upcoming_action = a
<BR>
return r, o, terminal, a
</TT></PRE>
Take one step.  RL_step uses the saved action and saves the returned action for the next step.  The action returned from one call must be used in the next, so it is better to handle this implicitly so that the user doesn't have to keep track of the action.  If the end-of-episode observation occurs, then no action is returned.
<PRE><TT>
 RL_episode(steps)
<BR>
num_steps = 0
<BR>
o, a = RL_start()
<BR>
num_steps = num_steps + 1
<BR>
list = [o, a]
<BR>
while o <IMG
 WIDTH="18" HEIGHT="34" ALIGN="MIDDLE" BORDER="0"
 SRC="img6.png"
 ALT="$\neq$"> terminal_observation
<BR>
if(steps <IMG
 WIDTH="18" HEIGHT="34" ALIGN="MIDDLE" BORDER="0"
 SRC="img6.png"
 ALT="$\neq$"> 0 and num_steps <IMG
 WIDTH="18" HEIGHT="31" ALIGN="MIDDLE" BORDER="0"
 SRC="img7.png"
 ALT="$\geq$"> steps)
<BR>
end
<BR>
else
<BR>
r, o, a = RL_step()
<BR>
list = list + [r, o, a]
<BR>
num_steps = num_steps + 1
<BR>
agent_end(r)
<BR>
</TT></PRE>
Do one episode until a termination observation occurs or until steps steps have elapsed, whichever comes first.  As you might imagine, this is done by calling RL_start, then RL_step until the terminal observation occurs.  If steps is set to 0, it is taken to be the case where there is no limitation on the number of steps taken and RL_episode will continue until a termination observation occurs. If no terminal observation is reached before num_steps is reached, the agent does not call agent_end, it simply stops.

<BR>
<BR>
RL_return() <IMG
 WIDTH="22" HEIGHT="16" ALIGN="BOTTOM" BORDER="0"
 SRC="img1.png"
 ALT="$\rightarrow$"> return

<BR>
<BR>
Return the cumulative total reward of the current or just completed episode.  The collection of all the rewards received in an episode (the return) is done within RL_return however, any discounting of rewards must be done inside the environment or agent.

<BR>
<BR>
RL_num_steps() <IMG
 WIDTH="22" HEIGHT="16" ALIGN="BOTTOM" BORDER="0"
 SRC="img1.png"
 ALT="$\rightarrow$"> num_steps

<BR>
<BR>
Return the number of steps elapsed in the current or just completed episode.
<PRE><TT>
RL_cleanup()
<BR>
env_cleanup()
<BR>
agent_cleanup()
</TT></PRE>
Provides an opportunity to reclaim resources allocated by RL_init.
<PRE><TT>
RL_set_state(State_key)
<BR>
env_set_state(State_key) 
</TT></PRE>
Provides an opportunity to reset the state (see env_set_state for details).
<PRE><TT>
RL_set_random_seed(Random_seed_key)
<BR>
env_set_random_seed(Random_seed_key)
</TT></PRE>
Provides an opportunity to reset the random seed key (see env_set_random_seed for details).
<PRE><TT>
RL_get_state() <IMG
 WIDTH="22" HEIGHT="16" ALIGN="BOTTOM" BORDER="0"
 SRC="img1.png"
 ALT="$\rightarrow$"> State_key
<BR>
return env_get_state() 
</TT></PRE>
Provides an opportunity to extract the state key from the environment (see env_get_state for details).
<PRE><TT>
RL_get_random_seed() <IMG
 WIDTH="22" HEIGHT="16" ALIGN="BOTTOM" BORDER="0"
 SRC="img1.png"
 ALT="$\rightarrow$"> Random_seed_key
<BR>
return env_get_random_seed() 
</TT></PRE>
Provides an opportunity to extract the random seed key from the environment (see env_get_random_seed for details).               
<PRE><TT>
RL_agent_message(input_message_string) <IMG
 WIDTH="22" HEIGHT="16" ALIGN="BOTTOM" BORDER="0"
 SRC="img1.png"
 ALT="$\rightarrow$"> output_message_string
<BR>
return agent_message(input_message_string)
</TT></PRE>
This message passes the input string to the agent and returns the reply string given by the agent. See agent_message for more details.                
<PRE><TT>
RL_env_message(input_message_string) <IMG
 WIDTH="22" HEIGHT="16" ALIGN="BOTTOM" BORDER="0"
 SRC="img1.png"
 ALT="$\rightarrow$"> output_message_string
<BR>
return env_message(input_message_string)
</TT></PRE>
This message passes the input string to the environment and returns the reply string given by the environment. See env_message for more details. 

<P>
<A NAME="ref"></A><HR>
<!--Navigation Panel-->
<A NAME="tex2html712"
  HREF="node50.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next"
 SRC="file:/sw/share/lib/latex2html/icons/next.png"></A> 
<A NAME="tex2html708"
  HREF="node46.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up"
 SRC="file:/sw/share/lib/latex2html/icons/up.png"></A> 
<A NAME="tex2html704"
  HREF="node48.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous"
 SRC="file:/sw/share/lib/latex2html/icons/prev.png"></A> 
<A NAME="tex2html710"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents"
 SRC="file:/sw/share/lib/latex2html/icons/contents.png"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html713"
  HREF="node50.html">Frequently Asked Questions</A>
<B> Up:</B> <A NAME="tex2html709"
  HREF="node46.html">Command and Function Reference</A>
<B> Previous:</B> <A NAME="tex2html705"
  HREF="node48.html">Environment Functions</A>
 &nbsp; <B>  <A NAME="tex2html711"
  HREF="node1.html">Contents</A></B> 
<!--End of Navigation Panel-->
<ADDRESS>
Brian Tanner
2008-09-27
</ADDRESS>
</BODY>
</HTML>
