<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">

<!--Converted with LaTeX2HTML 2002-2-1 (1.71)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>Start and Step Functions</TITLE>
<META NAME="description" CONTENT="Start and Step Functions">
<META NAME="keywords" CONTENT="c-codec">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META NAME="Generator" CONTENT="LaTeX2HTML v2002-2-1">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="c-codec.css">

<LINK REL="previous" HREF="node11.html">
<LINK REL="up" HREF="node10.html">
<LINK REL="next" HREF="node13.html">
</HEAD>

<BODY >
<!--Navigation Panel-->
<A NAME="tex2html248"
  HREF="node13.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next"
 SRC="file:/sw/share/lib/latex2html/icons/next.png"></A> 
<A NAME="tex2html244"
  HREF="node10.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up"
 SRC="file:/sw/share/lib/latex2html/icons/up.png"></A> 
<A NAME="tex2html240"
  HREF="node11.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous"
 SRC="file:/sw/share/lib/latex2html/icons/prev.png"></A> 
<A NAME="tex2html246"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents"
 SRC="file:/sw/share/lib/latex2html/icons/contents.png"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html249"
  HREF="node13.html">Additional Components Of A</A>
<B> Up:</B> <A NAME="tex2html245"
  HREF="node10.html">Essential Components Of A</A>
<B> Previous:</B> <A NAME="tex2html241"
  HREF="node11.html">Observation and Action Encoding</A>
 &nbsp; <B>  <A NAME="tex2html247"
  HREF="node1.html">Contents</A></B> 
<BR>
<BR>
<!--End of Navigation Panel-->

<H3><A NAME="SECTION00051200000000000000">
Start and Step Functions</A>
</H3>
Writing env_start is very simple. The function takes no input and simply returns an observation. The env_start function signifies the beginning of an episode; env_start chooses the initial state of the environment and returns the corresponding observation. For example, the following pseudo code selects a random start state for a grid world and returns the observation:
<PRE><TT>
1. <B>env_start</B><IMG
 WIDTH="22" HEIGHT="16" ALIGN="BOTTOM" BORDER="0"
 SRC="img1.png"
 ALT="$\rightarrow$"> observation
<BR>
2. 		state = rand()*num_states
<BR>
3. 		set observation equal to state
<BR>
4. 		<B>return</B> observation
</TT></PRE>
The sections describing the language specific details for environments will explain line 3.

<P>
The final essential piece of an RL-Glue environment is the env_step function. The env_step function must take an action as input and produce a observation, reward and a termination flag as output. In most RL problems the  env_step function updates the internal state of the environment, tests for end of episode and returns the new observation of state and current reward. In other words, step function encodes the state transition and reward functions. Keeping with the grid world example, the following step function would be a valid env_step function:
<PRE><TT>
1. <B>env_step</B>(Action a) <IMG
 WIDTH="22" HEIGHT="16" ALIGN="BOTTOM" BORDER="0"
 SRC="img1.png"
 ALT="$\rightarrow$"> reward, observation, flag 
<BR>
2. 		newState = updateState(a, oldState)
<BR>
3. 		 flag = isTerminal()
<BR>
3. 		 reward = -1
<BR>
4. 		set observation equal to newState
<BR>
5. 		oldState = newState
<BR>
6. 		<B>return</B> reward, observation, flag
</TT></PRE>
Here we assume the existence of a state update function and an isTerminal function that checks if the current state is a terminal state.

<P>
So thats it. Just define the types of actions and observations and write two functions and you have a valid RL-Glue compatible environment. In later sections we will go over advanced environment functions and describe the syntactic details of actually coding an environment in several different programming languages. 

<P>
<HR>
<!--Navigation Panel-->
<A NAME="tex2html248"
  HREF="node13.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next"
 SRC="file:/sw/share/lib/latex2html/icons/next.png"></A> 
<A NAME="tex2html244"
  HREF="node10.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up"
 SRC="file:/sw/share/lib/latex2html/icons/up.png"></A> 
<A NAME="tex2html240"
  HREF="node11.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous"
 SRC="file:/sw/share/lib/latex2html/icons/prev.png"></A> 
<A NAME="tex2html246"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents"
 SRC="file:/sw/share/lib/latex2html/icons/contents.png"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html249"
  HREF="node13.html">Additional Components Of A</A>
<B> Up:</B> <A NAME="tex2html245"
  HREF="node10.html">Essential Components Of A</A>
<B> Previous:</B> <A NAME="tex2html241"
  HREF="node11.html">Observation and Action Encoding</A>
 &nbsp; <B>  <A NAME="tex2html247"
  HREF="node1.html">Contents</A></B> 
<!--End of Navigation Panel-->
<ADDRESS>
Brian Tanner
2008-09-27
</ADDRESS>
</BODY>
</HTML>
